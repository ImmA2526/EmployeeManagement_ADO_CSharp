<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Employee Management</title>
    <link rel="stylesheet" href="/css/registerStyle.css" />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
</head>

<body>

    <center><form class="form">
        <h1>EMPLOYEE MANAGEMENT SERVICES</h1>
        <div class="h2"> <h2>Edit / Update Record</h2></div>
        <!--Names-->
        <div class="form-group row">
            <label class="col-sm-2 col-form-label">Name</label>
            <div class="col-sm-4">
                <input type="text" id="firstName" name="FirstName" placeholder="First Name">
                <span id="nameError" class="text-danger"></span>
            </div>
            <div class="col-sm-4">
                <input type="text" id="lastName" name="LastName" placeholder="Last Name">
                <span id="namesError" class="text-danger"></span>
            </div>
        </div>

        <!--City State Zip-->
        <div class="form-group row">
            <label class="col-sm-2 col-form-label">City</label>
            <div class="col-sm-3">
                <input type="text" id="city" name="Citi" placeholder="City">
                <span id="cityError" class="text-danger"></span>
            </div>
            <div class="col-sm-3">
                <input type="text" id="state" name="State" placeholder="State">
                <span id="stateError" class="text-danger"></span>
            </div>
            <div class="col-sm-2">
                <input type="text" id="pin" name="Pincode" placeholder="ZipCode">
                <span id="pinError" class="text-danger"></span>
            </div>
        </div>

        <!--Email Phone-->
        <div class="form-group row">
            <label class="col-sm-4 col-form-label">Phone Number </label>
            <div class="col-sm-4">
                <input type="text" id="mobile" name="MobileNo" placeholder="Mobile Number">
                <span id="mobileError" class="text-danger"></span>
            </div>
        </div>
            
        <!--Buttons-->
        <div class="form-group row">
            <!--<div class="col-sm-4"></div>-->
            <div class="col-sm-12">
                <button type="submit" id="btnSave" class="btn btn-primary">Edit</button>
            </div>
        </div>
    </form></center>

    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
    <script type="text/javascript">
        $(function () {
            $("#btnSave").click(function () {
            

            var firstname = document.getElementById('firstName').value;
            var lastname = document.getElementById('lastName').value;
            var City = document.getElementById('city').value;
            var State = document.getElementById('state').value;
            var Zip = document.getElementById('pin').value;
            var mobile = document.getElementById('mobile').value;
         
                var name = /^[A-Z]{1}[a-zA-Z]{2,}$/;
                var city = /^[A-Z]{1}[a-zA-Z]{2,}$/;
                var state = /^[A-Z]{1}[a-zA-Z]{2,}$/;
                var zipcode = /^[0-9]{6}$/;
                var mobileno = /^[0-9]{10}$/;
                

            if (firstname.match(name)) {
                document.getElementById('nameError').innerHTML = " ";

            } else {
                document.getElementById('nameError').innerHTML = "Not Blank";
                return false;
            }

            if (lastname.match(name)) {
                document.getElementById('namesError').innerHTML = " ";

            } else {
                document.getElementById('namesError').innerHTML = "Not Blank";
                return false;
            }

            if (City.match(city)) {
                document.getElementById('cityError').innerHTML = " "
            }
            else {
                document.getElementById('cityError').innerHTML = " Enter City.";
                return false;
            }

            if (State.match(state)) {
                document.getElementById('stateError').innerHTML = " "
            }
            else {
                document.getElementById('stateError').innerHTML = " Enter valid State.";
                return false;
            }


            if (Zip.match(zipcode)) {
                document.getElementById('pinError').innerHTML = ""
            }
            else {
                document.getElementById('pinError').innerHTML = "Enter 6 Digit";
                return false;
            }


            if (mobile.match(mobileno)) {
                document.getElementById('mobileError').innerHTML = " ";

            } else {
                document.getElementById('mobileError').innerHTML = "Invalid Mobile Number.";
                return false;
            }
           
            var Employe = {};
            Employe.FirstName = $("#firstName").val();
            Employe.LastName = $("#lastName").val();
            Employe.City = $("#city").val();
            Employe.State = $("#state").val();
            Employe.Zip = $("#pin").val();
            Employe.Mobile = $("#mobile").val();
            console.log(JSON.stringify(Employe));

            $.ajax({
                type: "POST",
                url: "https://localhost:44302/api/addEmployee",
                data: JSON.stringify(Employe),

                contentType: "application/json; charset=utf-8",
                success: function () {
                    alert("Edited Suscces");
                    return true;
                },
                error: function () {
                    alert("Unable To Edit");
                }
            });

            return false;
            });
        });
    </script>
</body >
</html >







